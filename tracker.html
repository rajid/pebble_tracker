<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <title>AccuInfo 2.0.0 Configuration</title>
  </head>

  <body>
    <div data-role="page" id="page1">
      <div data-theme="" data-role="header">
	<h3>AccuInfo</h3>
      </div>
      <div data-role="content">
	<h2>Settings</h2>
	<div data-role="fieldcontain">
	  <label for="name1">Project 0 name</label>
	  <input name="name1" id="name1" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 0 hours</label>
	  <input size="2" name="hour1" id="hour1" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 0 mins</label>
	  <input size="2" name="min1" id="min1" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="name2">Project 1 name</label>
	  <input name="name2" id="name2" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 1 hours</label>
	  <input name="hour2" id="hour2" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 1 mins</label>
	  <input name="min2" id="min2" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="name3">Project 2 name</label>
	  <input name="name3" id="name3" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 2 hours</label>
	  <input name="hour3" id="hour3" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 2 mins</label>
	  <input name="min3" id="min3" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="name4">Project 3 name</label>
	  <input name="name4" id="name4" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 3 hours</label>
	  <input name="hour4" id="hour4" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 3 mins</label>
	  <input name="min4" id="min4" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="name5">Project 4 name</label>
	  <input name="name5" id="name5" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 4 hours</label>
	  <input name="hour5" id="hour5" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 4 mins</label>
	  <input name="min5" id="min5" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="name6">Proj 5 hours</label>
	  <input name="name6" id="name6" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="hour6" id="hour6" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 5 mins</label>
	  <input size="2" name="min6" id="min6" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="name7">Proj 6 hours</label>
	  <input name="name7" id="name7" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="hour7" id="hour7" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 6 mins</label>
	  <input size="2" name="min7" id="min7" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="name8">Proj 7 hours</label>
	  <input name="name8" id="name8" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="hour8" id="hour8" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 7 mins</label>
	  <input size="2" name="min8" id="min8" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="name9">Proj 8 hours</label>
	  <input name="name9" id="name9" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="hour9" id="hour9" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 8 mins</label>
	  <input size="2" name="min9" id="min9" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="name10">Proj 9 hours</label>
	  <input name="name10" id="name10" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="hour10" id="hour10" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 9 mins</label>
	  <input size="2" name="min10" id="min10" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	
	
	</div>
	<div class="ui-body ui-body-b">
	  <fieldset class="ui-grid-a">
	    <div class="ui-block-a"><button type="submit" data-theme="d" id="b-cancel">Cancel</button></div>
	    <div class="ui-block-b"><button type="submit" data-theme="a" id="b-submit">Submit</button></div>
	  </fieldset>
	</div>




      </div>
    </div>
    <script>
      <!-- from http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/ -->
      $.urlParam = function(name){
	var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);
	if (!results) { return 0; }
	return results[1] || 0;
      }

      function updateControls() {
        var name1 = decodeURIComponent($.urlParam("name1"));
        if (name1 != 0) {
          $("#name1").val(name1);
        }
        var name2 = decodeURIComponent($.urlParam("name2"));
        if (name2 != 0) {
          $("#name2").val(name2);
        }
        var name3 = decodeURIComponent($.urlParam("name3"));
        if (name3 != 0) {
          $("#name3").val(name3);
        }
        var name4 = decodeURIComponent($.urlParam("name4"));
        if (name4 != 0) {
          $("#name4").val(name4);
        }
        var name5 = decodeURIComponent($.urlParam("name5"));
        if (name5 != 0) {
          $("#name5").val(name5);
        }
        var name6 = decodeURIComponent($.urlParam("name6"));
        if (name6 != 0) {
          $("#name6").val(name6);
        }
        var name7 = decodeURIComponent($.urlParam("name7"));
        if (name7 != 0) {
          $("#name7").val(name7);
        }
        var name8 = decodeURIComponent($.urlParam("name8"));
        if (name8 != 0) {
          $("#name8").val(name8);
        }
        var name9 = decodeURIComponent($.urlParam("name9"));
        if (name9 != 0) {
          $("#name9").val(name9);
        }
        var name10 = decodeURIComponent($.urlParam("name10"));
        if (name10 != 0) {
          $("#name10").val(name10);
        }
        var hour1 = decodeURIComponent($.urlParam("hour1"));
        if (hour1 != 0) {
          $("#hour1").val(hour1);
        }
        var hour2 = decodeURIComponent($.urlParam("hour2"));
        if (hour2 != 0) {
          $("#hour2").val(hour2);
        }
        var hour3 = decodeURIComponent($.urlParam("hour3"));
        if (hour3 != 0) {
          $("#hour3").val(hour3);
        }
        var hour4 = decodeURIComponent($.urlParam("hour4"));
        if (hour4 != 0) {
          $("#hour4").val(hour4);
        }
        var hour5 = decodeURIComponent($.urlParam("hour5"));
        if (hour5 != 0) {
          $("#hour5").val(hour5);
        }
        var hour6 = decodeURIComponent($.urlParam("hour6"));
        if (hour6 != 0) {
          $("#hour6").val(hour6);
        }
        var hour7 = decodeURIComponent($.urlParam("hour7"));
        if (hour7 != 0) {
          $("#hour7").val(hour7);
        }
        var hour8 = decodeURIComponent($.urlParam("hour8"));
        if (hour8 != 0) {
          $("#hour8").val(hour8);
        }
        var hour9 = decodeURIComponent($.urlParam("hour9"));
        if (hour9 != 0) {
          $("#hour9").val(hour9);
        }
        var hour10 = decodeURIComponent($.urlParam("hour10"));
        if (hour10 != 0) {
          $("#hour10").val(hour10);
        }
        var min1 = decodeURIComponent($.urlParam("min1"));
        if (min1 != 0) {
          $("#min1").val(min1);
        }
        var min2 = decodeURIComponent($.urlParam("min2"));
        if (min2 != 0) {
          $("#min2").val(min2);
        }
        var min3 = decodeURIComponent($.urlParam("min3"));
        if (min3 != 0) {
          $("#min3").val(min3);
        }
        var min4 = decodeURIComponent($.urlParam("min4"));
        if (min4 != 0) {
          $("#min4").val(min4);
        }
        var min5 = decodeURIComponent($.urlParam("min5"));
        if (min5 != 0) {
          $("#min5").val(min5);
        }
        var min6 = decodeURIComponent($.urlParam("min6"));
        if (min6 != 0) {
          $("#min6").val(min6);
        }
        var min7 = decodeURIComponent($.urlParam("min7"));
        if (min7 != 0) {
          $("#min7").val(min7);
        }
        var min8 = decodeURIComponent($.urlParam("min8"));
        if (min8 != 0) {
          $("#min8").val(min8);
        }
        var min9 = decodeURIComponent($.urlParam("min9"));
        if (min9 != 0) {
          $("#min9").val(min9);
        }
        var min10 = decodeURIComponent($.urlParam("min10"));
        if (min10 != 0) {
          $("#min10").val(min10);
        }
      }

      function saveOptions() {
        var options = {
          'name1': $("#name1").val(),
          'name2': $("#name2").val(),
          'name3': $("#name3").val(),
          'name4': $("#name4").val(),
          'name5': $("#name5").val(),
          'name6': $("#name6").val(),
          'name7': $("#name7").val(),
          'name8': $("#name8").val(),
          'name9': $("#name9").val(),
          'name10': $("#name10").val(),
          'hour1': $("#hour1").val(),
          'hour2': $("#hour2").val(),
          'hour3': $("#hour3").val(),
          'hour4': $("#hour4").val(),
          'hour5': $("#hour5").val(),
          'hour6': $("#hour6").val(),
          'hour7': $("#hour7").val(),
          'hour8': $("#hour8").val(),
          'hour9': $("#hour9").val(),
          'hour10': $("#hour10").val(),
          'min1': $("#min1").val(),
          'min2': $("#min2").val(),
          'min3': $("#min3").val(),
          'min4': $("#min4").val(),
          'min5': $("#min5").val(),
          'min6': $("#min6").val(),
          'min7': $("#min7").val(),
          'min8': $("#min8").val(),
          'min9': $("#min9").val(),
          'min10': $("#min10").val(),
        }
        return options;
      }

      $().ready(function() {
        $("#b-cancel").click(function() {
          console.log("Cancel");
          document.location = "pebblejs://close#";
        });

        $("#b-submit").click(function() {
          console.log("Submit");

          var location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(saveOptions()));
          console.log(location);
          document.location = location;
        });
      });

      $('#page1').bind('pageinit', updateControls);
    </script>
  </body>
</html>
