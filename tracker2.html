<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <title>AccuInfo 2.0.0 Configuration</title>
  </head>

  <body>
    <div data-role="page" id="page1">
      <div data-theme="" data-role="header">
	<h3>Tracker</h3>
      </div>
      <div data-role="content">
	<h2>Settings</h2>
	<div data-role="fieldcontain">
	  <label for="n1">Project 0 name</label>
	  <input name="n1" id="n1" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 0 hours</label>
	  <input size="2" name="h1" id="h1" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 0 mins</label>
	  <input size="2" name="m1" id="m1" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="n2">Project 1 name</label>
	  <input name="n2" id="n2" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 1 hours</label>
	  <input name="h2" id="h2" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 1 mins</label>
	  <input name="m2" id="m2" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="n3">Project 2 name</label>
	  <input name="n3" id="n3" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 2 hours</label>
	  <input name="h3" id="h3" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 2 mins</label>
	  <input name="m3" id="m3" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="n4">Project 3 name</label>
	  <input name="n4" id="n4" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 3 hours</label>
	  <input name="h4" id="h4" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 3 mins</label>
	  <input name="m4" id="m4" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="n5">Project 4 name</label>
	  <input name="n5" id="n5" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <label>Proj 4 hours</label>
	  <input name="h5" id="h5" data-theme="" type="number"
		  value="" size="2">
	  <label>Proj 4 mins</label>
	  <input name="m5" id="m5" data-theme="" type="number"
		  value="" size="2">
	  </input>
<br>
	  <label for="n6">Proj 5 hours</label>
	  <input name="n6" id="n6" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="h6" id="h6" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 5 mins</label>
	  <input size="2" name="m6" id="m6" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="n7">Proj 6 hours</label>
	  <input name="n7" id="n7" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="h7" id="h7" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 6 mins</label>
	  <input size="2" name="m7" id="m7" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="n8">Proj 7 hours</label>
	  <input name="n8" id="n8" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="h8" id="h8" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 7 mins</label>
	  <input size="2" name="m8" id="m8" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="n9">Proj 8 hours</label>
	  <input name="n9" id="n9" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="h9" id="h9" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 8 mins</label>
	  <input size="2" name="m9" id="m9" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	  <label for="n10">Proj 9 hours</label>
	  <input name="n10" id="n10" data-theme="" type="text"
		  value="">
	  </input>
<br>
	  <input size="2" name="h10" id="h10" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
	  <label>Proj 9 mins</label>
	  <input size="2" name="m10" id="m10" data-theme=""
		 type="number" value="" min="0" max="60">
	  </input>
<br>
	
	
	</div>
	<div class="ui-body ui-body-b">
	  <fieldset class="ui-grid-a">
	    <div class="ui-block-a"><button type="submit" data-theme="d" id="b-cancel">Cancel</button></div>
	    <div class="ui-block-b"><button type="submit" data-theme="a" id="b-submit">Submit</button></div>
	  </fieldset>
	</div>




      </div>
    </div>
    <script>
      <!-- from http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/ -->
      $.urlParam = function(name){
	var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);
	if (!results) { return 0; }
	return results[1] || 0;
      }

      function updateControls() {
        var n1 = decodeURIComponent($.urlParam("n1"));
        if (n1 != 0) {
          $("#n1").val(n1);
        }
        var n2 = decodeURIComponent($.urlParam("n2"));
        if (n2 != 0) {
          $("#n2").val(n2);
        }
        var n3 = decodeURIComponent($.urlParam("n3"));
        if (n3 != 0) {
          $("#n3").val(n3);
        }
        var n4 = decodeURIComponent($.urlParam("n4"));
        if (n4 != 0) {
          $("#n4").val(n4);
        }
        var n5 = decodeURIComponent($.urlParam("n5"));
        if (n5 != 0) {
          $("#n5").val(n5);
        }
        var n6 = decodeURIComponent($.urlParam("n6"));
        if (n6 != 0) {
          $("#n6").val(n6);
        }
        var n7 = decodeURIComponent($.urlParam("n7"));
        if (n7 != 0) {
          $("#n7").val(n7);
        }
        var n8 = decodeURIComponent($.urlParam("n8"));
        if (n8 != 0) {
          $("#n8").val(n8);
        }
        var n9 = decodeURIComponent($.urlParam("n9"));
        if (n9 != 0) {
          $("#n9").val(n9);
        }
        var n10 = decodeURIComponent($.urlParam("n10"));
        if (n10 != 0) {
          $("#n10").val(n10);
        }
        var h1 = decodeURIComponent($.urlParam("h1"));
        if (h1 != 0) {
          $("#h1").val(h1);
        }
        var h2 = decodeURIComponent($.urlParam("h2"));
        if (h2 != 0) {
          $("#h2").val(h2);
        }
        var h3 = decodeURIComponent($.urlParam("h3"));
        if (h3 != 0) {
          $("#h3").val(h3);
        }
        var h4 = decodeURIComponent($.urlParam("h4"));
        if (h4 != 0) {
          $("#h4").val(h4);
        }
        var h5 = decodeURIComponent($.urlParam("h5"));
        if (h5 != 0) {
          $("#h5").val(h5);
        }
        var h6 = decodeURIComponent($.urlParam("h6"));
        if (h6 != 0) {
          $("#h6").val(h6);
        }
        var h7 = decodeURIComponent($.urlParam("h7"));
        if (h7 != 0) {
          $("#h7").val(h7);
        }
        var h8 = decodeURIComponent($.urlParam("h8"));
        if (h8 != 0) {
          $("#h8").val(h8);
        }
        var h9 = decodeURIComponent($.urlParam("h9"));
        if (h9 != 0) {
          $("#h9").val(h9);
        }
        var h10 = decodeURIComponent($.urlParam("h10"));
        if (h10 != 0) {
          $("#h10").val(h10);
        }
        var m1 = decodeURIComponent($.urlParam("m1"));
        if (m1 != 0) {
          $("#m1").val(m1);
        }
        var m2 = decodeURIComponent($.urlParam("m2"));
        if (m2 != 0) {
          $("#m2").val(m2);
        }
        var m3 = decodeURIComponent($.urlParam("m3"));
        if (m3 != 0) {
          $("#m3").val(m3);
        }
        var m4 = decodeURIComponent($.urlParam("m4"));
        if (m4 != 0) {
          $("#m4").val(m4);
        }
        var m5 = decodeURIComponent($.urlParam("m5"));
        if (m5 != 0) {
          $("#m5").val(m5);
        }
        var m6 = decodeURIComponent($.urlParam("m6"));
        if (m6 != 0) {
          $("#m6").val(m6);
        }
        var m7 = decodeURIComponent($.urlParam("m7"));
        if (m7 != 0) {
          $("#m7").val(m7);
        }
        var m8 = decodeURIComponent($.urlParam("m8"));
        if (m8 != 0) {
          $("#m8").val(m8);
        }
        var m9 = decodeURIComponent($.urlParam("m9"));
        if (m9 != 0) {
          $("#m9").val(m9);
        }
        var m10 = decodeURIComponent($.urlParam("m10"));
        if (m10 != 0) {
          $("#m10").val(m10);
        }
      }

      function saveOptions() {
        var options = {
          'name1': $("#n1").val(),
          'name2': $("#n2").val(),
          'name3': $("#n3").val(),
          'name4': $("#n4").val(),
          'name5': $("#n5").val(),
          'n6': $("#n6").val(),
          'n7': $("#n7").val(),
          'n8': $("#n8").val(),
          'n9': $("#n9").val(),
          'n10': $("#n10").val(),
          'hour1': $("#h1").val(),
          'hour2': $("#h2").val(),
          'hour3': $("#h3").val(),
          'hour4': $("#h4").val(),
          'hour5': $("#h5").val(),
          'h6': $("#h6").val(),
          'h7': $("#h7").val(),
          'h8': $("#h8").val(),
          'h9': $("#h9").val(),
          'h10': $("#h10").val(),
          'min1': $("#m1").val(),
          'min2': $("#m2").val(),
          'min3': $("#m3").val(),
          'min4': $("#m4").val(),
          'min5': $("#m5").val(),
          'm6': $("#m6").val(),
          'm7': $("#m7").val(),
          'm8': $("#m8").val(),
          'm9': $("#m9").val(),
          'm10': $("#m10").val(),
        }
        return options;
      }

      $().ready(function() {
        $("#b-cancel").click(function() {
          console.log("Cancel");
          document.location = "pebblejs://close#";
        });

        $("#b-submit").click(function() {
          console.log("Submit");

          var location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(saveOptions()));
          console.log(location);
          document.location = location;
        });
      });

      $('#page1').bind('pageinit', updateControls);
    </script>
  </body>
</html>
